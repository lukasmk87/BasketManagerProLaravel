import{r as k,u as D,q as S,c as q,o as g,w as b,a as s,i as U,m as r,d as p,F as y,h as w,n as z,g as x,e as T,t as _,b as a,f as o,p as v,z as F,G as c,v as f}from"./app-CoGxkfVc.js";import{_ as L}from"./AppLayout-Drc7lzl4.js";import{_ as I}from"./PrimaryButton-CwuCmxQ7.js";import{_ as R}from"./SecondaryButton-Bp3bKgLC.js";import{_ as d}from"./TextInput-BJ5pfwEC.js";import{_ as n}from"./InputLabel-C_RcxF_l.js";import{_ as i}from"./InputError-o9U-HAWP.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const G={class:"flex justify-between items-center"},E={class:"py-12"},H={class:"max-w-5xl mx-auto sm:px-6 lg:px-8"},O={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},P={class:"mb-8 border-b border-gray-200"},W={class:"-mb-px flex space-x-8"},Z=["onClick"],j={key:0,class:"ml-2 text-red-500"},K={class:"space-y-6"},Y={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},J=["value"],Q=["disabled"],X=["value"],ee={class:"md:col-span-2"},se={class:"space-y-6"},le={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},oe={class:"space-y-6"},te={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ae={class:"space-y-6"},ne={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ie={class:"space-y-3"},re={class:"flex items-center"},de={class:"flex items-center"},ue={class:"space-y-6"},me={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ge={class:"space-y-3"},pe={class:"flex items-center"},ce={class:"flex items-center"},fe={class:"flex items-center"},_e={class:"flex items-center"},ve={key:0},be={class:"space-y-6"},ye={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},we={class:"space-y-6"},xe={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},he={class:"flex items-center justify-end mt-6"},$e={__name:"Create",props:{teams:Array},setup(h){const V=h,m=k("basic"),A=k([{id:"basic",name:"Basis",fields:["home_team_id","away_team_id","scheduled_at","venue","type","season"]},{id:"tournament",name:"Turnier",fields:["tournament_id","tournament_round","tournament_game_number"]},{id:"rules",name:"Regeln",fields:["total_periods","period_length_minutes","overtime_length_minutes"]},{id:"event",name:"Veranstaltung",fields:["capacity","allow_spectators","allow_media"]},{id:"media",name:"Medien",fields:["is_streamed","stream_url","allow_recording","allow_photos","allow_streaming"]},{id:"safety",name:"Sicherheit",fields:["medical_staff_present"]},{id:"weather",name:"Wetter",fields:["weather_conditions","temperature","court_conditions"]}]),l=D({home_team_id:"",away_team_id:"",scheduled_at:"",venue:"",venue_address:"",type:"regular_season",season:M(),league:"",division:"",pre_game_notes:"",tournament_id:"",tournament_round:"",tournament_game_number:null,total_periods:4,period_length_minutes:10,overtime_length_minutes:5,capacity:null,allow_spectators:!0,allow_media:!0,is_streamed:!1,stream_url:"",allow_recording:!0,allow_photos:!0,allow_streaming:!1,medical_staff_present:"",weather_conditions:"",temperature:null,court_conditions:""});function M(){const u=new Date,e=u.getFullYear();return u.getMonth()>=7?`${e}/${e+1}`:`${e-1}/${e}`}const B=S(()=>{const u=new Date;return u.setMinutes(u.getMinutes()-u.getTimezoneOffset()),u.toISOString().slice(0,16)}),$=S(()=>l.home_team_id?V.teams.filter(u=>u.id!==l.home_team_id):V.teams),N=u=>u.some(e=>l.errors[e]),C=()=>{const u=[{field:"home_team_id",section:"basic"},{field:"away_team_id",section:"basic"},{field:"scheduled_at",section:"basic"},{field:"type",section:"basic"},{field:"season",section:"basic"}];for(const{field:e,section:t}of u)if(!l[e]||Array.isArray(l[e])&&l[e].length===0){m.value=t;return}l.post(route("web.games.store"))};return(u,e)=>(g(),q(L,{title:"Neues Spiel"},{header:b(()=>[s("div",G,[e[29]||(e[29]=s("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Neues Spiel erstellen ",-1)),a(R,{href:u.route("web.games.index"),as:"Link"},{default:b(()=>e[28]||(e[28]=[x(" Abbrechen ",-1)])),_:1,__:[28]},8,["href"])])]),default:b(()=>[s("div",E,[s("div",H,[s("div",O,[s("form",{onSubmit:U(C,["prevent"]),class:"p-6",novalidate:""},[s("div",P,[s("nav",W,[(g(!0),p(y,null,w(A.value,t=>(g(),p("button",{key:t.id,onClick:U(Ve=>m.value=t.id,["prevent"]),class:z(["whitespace-nowrap py-2 px-1 border-b-2 font-medium text-sm",m.value===t.id?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"]),type:"button"},[x(_(t.name)+" ",1),N(t.fields)?(g(),p("span",j,"•")):T("",!0)],10,Z))),128))])]),r(s("div",K,[e[34]||(e[34]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Basis Informationen",-1)),s("div",Y,[s("div",null,[a(n,{for:"home_team_id",value:"Heimteam*"}),r(s("select",{id:"home_team_id","onUpdate:modelValue":e[0]||(e[0]=t=>o(l).home_team_id=t),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",required:""},[e[30]||(e[30]=s("option",{value:""},"Team auswählen",-1)),(g(!0),p(y,null,w(h.teams,t=>(g(),p("option",{key:t.id,value:t.id},_(t.name)+" ("+_(t.club.name)+") ",9,J))),128))],512),[[v,o(l).home_team_id]]),a(i,{message:o(l).errors.home_team_id,class:"mt-2"},null,8,["message"])]),s("div",null,[a(n,{for:"away_team_id",value:"Auswärtsteam*"}),r(s("select",{id:"away_team_id","onUpdate:modelValue":e[1]||(e[1]=t=>o(l).away_team_id=t),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",required:"",disabled:!o(l).home_team_id},[e[31]||(e[31]=s("option",{value:""},"Team auswählen",-1)),(g(!0),p(y,null,w($.value,t=>(g(),p("option",{key:t.id,value:t.id},_(t.name)+" ("+_(t.club.name)+") ",9,X))),128))],8,Q),[[v,o(l).away_team_id]]),a(i,{message:o(l).errors.away_team_id,class:"mt-2"},null,8,["message"])]),s("div",null,[a(n,{for:"scheduled_at",value:"Datum und Uhrzeit*"}),a(d,{id:"scheduled_at",modelValue:o(l).scheduled_at,"onUpdate:modelValue":e[2]||(e[2]=t=>o(l).scheduled_at=t),type:"datetime-local",class:"mt-1 block w-full",min:B.value,required:""},null,8,["modelValue","min"]),a(i,{message:o(l).errors.scheduled_at,class:"mt-2"},null,8,["message"])]),s("div",null,[a(n,{for:"venue",value:"Spielort"}),a(d,{id:"venue",modelValue:o(l).venue,"onUpdate:modelValue":e[3]||(e[3]=t=>o(l).venue=t),type:"text",class:"mt-1 block w-full",placeholder:"z.B. Sporthalle Am Stadtpark"},null,8,["modelValue"]),a(i,{message:o(l).errors.venue,class:"mt-2"},null,8,["message"])]),s("div",null,[a(n,{for:"venue_address",value:"Adresse des Spielorts"}),a(d,{id:"venue_address",modelValue:o(l).venue_address,"onUpdate:modelValue":e[4]||(e[4]=t=>o(l).venue_address=t),type:"text",class:"mt-1 block w-full",placeholder:"Straße, PLZ Ort"},null,8,["modelValue"]),a(i,{message:o(l).errors.venue_address,class:"mt-2"},null,8,["message"])]),s("div",null,[a(n,{for:"type",value:"Spieltyp*"}),r(s("select",{id:"type","onUpdate:modelValue":e[5]||(e[5]=t=>o(l).type=t),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",required:""},e[32]||(e[32]=[s("option",{value:"regular_season"},"Reguläre Saison",-1),s("option",{value:"playoff"},"Playoff",-1),s("option",{value:"championship"},"Meisterschaft",-1),s("option",{value:"friendly"},"Freundschaftsspiel",-1),s("option",{value:"tournament"},"Turnier",-1),s("option",{value:"scrimmage"},"Trainingsspiel",-1)]),512),[[v,o(l).type]]),a(i,{message:o(l).errors.type,class:"mt-2"},null,8,["message"])]),s("div",null,[a(n,{for:"season",value:"Saison*"}),a(d,{id:"season",modelValue:o(l).season,"onUpdate:modelValue":e[6]||(e[6]=t=>o(l).season=t),type:"text",class:"mt-1 block w-full",placeholder:"2023/2024",maxlength:"9",required:""},null,8,["modelValue"]),a(i,{message:o(l).errors.season,class:"mt-2"},null,8,["message"])]),s("div",null,[a(n,{for:"league",value:"Liga"}),a(d,{id:"league",modelValue:o(l).league,"onUpdate:modelValue":e[7]||(e[7]=t=>o(l).league=t),type:"text",class:"mt-1 block w-full",placeholder:"z.B. Bezirksliga"},null,8,["modelValue"]),a(i,{message:o(l).errors.league,class:"mt-2"},null,8,["message"])]),s("div",null,[a(n,{for:"division",value:"Division/Gruppe"}),a(d,{id:"division",modelValue:o(l).division,"onUpdate:modelValue":e[8]||(e[8]=t=>o(l).division=t),type:"text",class:"mt-1 block w-full",placeholder:"z.B. Gruppe A"},null,8,["modelValue"]),a(i,{message:o(l).errors.division,class:"mt-2"},null,8,["message"])]),s("div",ee,[a(n,{for:"pre_game_notes",value:"Notizen vor dem Spiel"}),r(s("textarea",{id:"pre_game_notes","onUpdate:modelValue":e[9]||(e[9]=t=>o(l).pre_game_notes=t),rows:"4",class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50",maxlength:"1000"},null,512),[[F,o(l).pre_game_notes]]),a(i,{message:o(l).errors.pre_game_notes,class:"mt-2"},null,8,["message"]),e[33]||(e[33]=s("div",{class:"text-xs text-gray-500 mt-1"},"Max. 1000 Zeichen",-1))])])],512),[[c,m.value==="basic"]]),r(s("div",se,[e[35]||(e[35]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Turnier Informationen",-1)),s("div",le,[s("div",null,[a(n,{for:"tournament_id",value:"Turnier ID"}),a(d,{id:"tournament_id",modelValue:o(l).tournament_id,"onUpdate:modelValue":e[10]||(e[10]=t=>o(l).tournament_id=t),type:"text",class:"mt-1 block w-full",placeholder:"Eindeutige Turnier-Kennung"},null,8,["modelValue"]),a(i,{message:o(l).errors.tournament_id,class:"mt-2"},null,8,["message"])]),s("div",null,[a(n,{for:"tournament_round",value:"Turnierrunde"}),a(d,{id:"tournament_round",modelValue:o(l).tournament_round,"onUpdate:modelValue":e[11]||(e[11]=t=>o(l).tournament_round=t),type:"text",class:"mt-1 block w-full",placeholder:"z.B. Viertelfinale, Halbfinale"},null,8,["modelValue"]),a(i,{message:o(l).errors.tournament_round,class:"mt-2"},null,8,["message"])]),s("div",null,[a(n,{for:"tournament_game_number",value:"Spiel Nummer im Turnier"}),a(d,{id:"tournament_game_number",modelValue:o(l).tournament_game_number,"onUpdate:modelValue":e[12]||(e[12]=t=>o(l).tournament_game_number=t),type:"number",class:"mt-1 block w-full",min:"1"},null,8,["modelValue"]),a(i,{message:o(l).errors.tournament_game_number,class:"mt-2"},null,8,["message"])])])],512),[[c,m.value==="tournament"]]),r(s("div",oe,[e[36]||(e[36]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Spielregeln & Timing",-1)),s("div",te,[s("div",null,[a(n,{for:"total_periods",value:"Anzahl Spielabschnitte"}),a(d,{id:"total_periods",modelValue:o(l).total_periods,"onUpdate:modelValue":e[13]||(e[13]=t=>o(l).total_periods=t),type:"number",class:"mt-1 block w-full",min:"1",max:"8"},null,8,["modelValue"]),a(i,{message:o(l).errors.total_periods,class:"mt-2"},null,8,["message"])]),s("div",null,[a(n,{for:"period_length_minutes",value:"Länge pro Spielabschnitt (Min.)"}),a(d,{id:"period_length_minutes",modelValue:o(l).period_length_minutes,"onUpdate:modelValue":e[14]||(e[14]=t=>o(l).period_length_minutes=t),type:"number",class:"mt-1 block w-full",min:"1",max:"20"},null,8,["modelValue"]),a(i,{message:o(l).errors.period_length_minutes,class:"mt-2"},null,8,["message"])]),s("div",null,[a(n,{for:"overtime_length_minutes",value:"Verlängerung (Min.)"}),a(d,{id:"overtime_length_minutes",modelValue:o(l).overtime_length_minutes,"onUpdate:modelValue":e[15]||(e[15]=t=>o(l).overtime_length_minutes=t),type:"number",class:"mt-1 block w-full",min:"1",max:"15"},null,8,["modelValue"]),a(i,{message:o(l).errors.overtime_length_minutes,class:"mt-2"},null,8,["message"])])])],512),[[c,m.value==="rules"]]),r(s("div",ae,[e[39]||(e[39]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Veranstaltungsdetails",-1)),s("div",ne,[s("div",null,[a(n,{for:"capacity",value:"Kapazität des Spielorts"}),a(d,{id:"capacity",modelValue:o(l).capacity,"onUpdate:modelValue":e[16]||(e[16]=t=>o(l).capacity=t),type:"number",class:"mt-1 block w-full",min:"0"},null,8,["modelValue"]),a(i,{message:o(l).errors.capacity,class:"mt-2"},null,8,["message"])]),s("div",ie,[s("label",re,[r(s("input",{type:"checkbox","onUpdate:modelValue":e[17]||(e[17]=t=>o(l).allow_spectators=t),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[f,o(l).allow_spectators]]),e[37]||(e[37]=s("span",{class:"ml-2"},"Zuschauer erlaubt",-1))]),s("label",de,[r(s("input",{type:"checkbox","onUpdate:modelValue":e[18]||(e[18]=t=>o(l).allow_media=t),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[f,o(l).allow_media]]),e[38]||(e[38]=s("span",{class:"ml-2"},"Medien erlaubt",-1))])])])],512),[[c,m.value==="event"]]),r(s("div",ue,[e[44]||(e[44]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Medien & Streaming",-1)),s("div",me,[s("div",ge,[s("label",pe,[r(s("input",{type:"checkbox","onUpdate:modelValue":e[19]||(e[19]=t=>o(l).is_streamed=t),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[f,o(l).is_streamed]]),e[40]||(e[40]=s("span",{class:"ml-2"},"Spiel wird gestreamt",-1))]),s("label",ce,[r(s("input",{type:"checkbox","onUpdate:modelValue":e[20]||(e[20]=t=>o(l).allow_recording=t),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[f,o(l).allow_recording]]),e[41]||(e[41]=s("span",{class:"ml-2"},"Aufnahmen erlauben",-1))]),s("label",fe,[r(s("input",{type:"checkbox","onUpdate:modelValue":e[21]||(e[21]=t=>o(l).allow_photos=t),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[f,o(l).allow_photos]]),e[42]||(e[42]=s("span",{class:"ml-2"},"Fotos erlauben",-1))]),s("label",_e,[r(s("input",{type:"checkbox","onUpdate:modelValue":e[22]||(e[22]=t=>o(l).allow_streaming=t),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[f,o(l).allow_streaming]]),e[43]||(e[43]=s("span",{class:"ml-2"},"Live-Streaming erlauben",-1))])]),o(l).is_streamed?(g(),p("div",ve,[a(n,{for:"stream_url",value:"Stream URL"}),a(d,{id:"stream_url",modelValue:o(l).stream_url,"onUpdate:modelValue":e[23]||(e[23]=t=>o(l).stream_url=t),type:"url",class:"mt-1 block w-full",placeholder:"https://stream.example.com/live123"},null,8,["modelValue"]),a(i,{message:o(l).errors.stream_url,class:"mt-2"},null,8,["message"])])):T("",!0)])],512),[[c,m.value==="media"]]),r(s("div",be,[e[45]||(e[45]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Sicherheit & Medizin",-1)),s("div",ye,[s("div",null,[a(n,{for:"medical_staff_present",value:"Anwesende medizinische Betreuung"}),a(d,{id:"medical_staff_present",modelValue:o(l).medical_staff_present,"onUpdate:modelValue":e[24]||(e[24]=t=>o(l).medical_staff_present=t),type:"text",class:"mt-1 block w-full",placeholder:"Name des Arztes/Sanitäters"},null,8,["modelValue"]),a(i,{message:o(l).errors.medical_staff_present,class:"mt-2"},null,8,["message"])])])],512),[[c,m.value==="safety"]]),r(s("div",we,[e[48]||(e[48]=s("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Wetterbedingungen",-1)),s("div",xe,[s("div",null,[a(n,{for:"weather_conditions",value:"Wetterverhältnisse"}),r(s("select",{id:"weather_conditions","onUpdate:modelValue":e[25]||(e[25]=t=>o(l).weather_conditions=t),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},e[46]||(e[46]=[s("option",{value:""},"Auswählen",-1),s("option",{value:"sunny"},"Sonnig",-1),s("option",{value:"cloudy"},"Bewölkt",-1),s("option",{value:"rainy"},"Regnerisch",-1),s("option",{value:"snowy"},"Schnee",-1),s("option",{value:"indoor"},"Indoor/Halle",-1)]),512),[[v,o(l).weather_conditions]]),a(i,{message:o(l).errors.weather_conditions,class:"mt-2"},null,8,["message"])]),s("div",null,[a(n,{for:"temperature",value:"Temperatur (°C)"}),a(d,{id:"temperature",modelValue:o(l).temperature,"onUpdate:modelValue":e[26]||(e[26]=t=>o(l).temperature=t),type:"number",class:"mt-1 block w-full",min:"-20",max:"50"},null,8,["modelValue"]),a(i,{message:o(l).errors.temperature,class:"mt-2"},null,8,["message"])]),s("div",null,[a(n,{for:"court_conditions",value:"Platzbedingungen"}),r(s("select",{id:"court_conditions","onUpdate:modelValue":e[27]||(e[27]=t=>o(l).court_conditions=t),class:"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},e[47]||(e[47]=[s("option",{value:""},"Auswählen",-1),s("option",{value:"excellent"},"Ausgezeichnet",-1),s("option",{value:"good"},"Gut",-1),s("option",{value:"fair"},"Befriedigend",-1),s("option",{value:"poor"},"Schlecht",-1),s("option",{value:"wet"},"Nass",-1),s("option",{value:"slippery"},"Rutschig",-1)]),512),[[v,o(l).court_conditions]]),a(i,{message:o(l).errors.court_conditions,class:"mt-2"},null,8,["message"])])])],512),[[c,m.value==="weather"]]),s("div",he,[a(I,{class:z({"opacity-25":o(l).processing}),disabled:o(l).processing},{default:b(()=>e[49]||(e[49]=[x(" Spiel erstellen ",-1)])),_:1,__:[49]},8,["class","disabled"])])],32)])])])]),_:1}))}};export{$e as default};
