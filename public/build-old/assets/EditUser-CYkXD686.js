import{u as w,c as B,o as f,w as m,a as e,i as z,b as n,f as i,d as g,F as D,h as V,t as u,g as o,n as S,j as $}from"./app-CoGxkfVc.js";import{_ as E}from"./AppLayout-Drc7lzl4.js";import{_ as L}from"./PrimaryButton-CwuCmxQ7.js";import{_ as p}from"./SecondaryButton-Bp3bKgLC.js";import{_ as x}from"./TextInput-BJ5pfwEC.js";import{_}from"./InputLabel-C_RcxF_l.js";import{_ as c}from"./InputError-o9U-HAWP.js";import{_ as b}from"./Checkbox-P9L59xbZ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const C={class:"flex justify-between items-center"},U={class:"flex items-center space-x-3"},j={class:"py-12"},A={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},R={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},F={class:"mb-8"},I={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},N={class:"mt-6"},q={class:"flex items-center"},M={class:"mb-8"},O={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"},G={class:"flex items-center cursor-pointer"},T={class:"ml-2 text-sm text-gray-600 capitalize"},Z={class:"mb-8 p-4 bg-gray-50 rounded-lg"},H={class:"text-sm text-gray-600 space-y-1"},J={class:"flex items-center justify-between"},K={class:"flex items-center space-x-4"},re={__name:"EditUser",props:{user:Object,roles:Array},setup(d){const a=d,t=w({name:a.user.name,email:a.user.email,is_active:a.user.is_active,roles:a.user.roles.map(l=>l.name)}),v=()=>{t.put(route("admin.users.update",a.user.id),{onSuccess:()=>{}})},h=()=>{confirm("Sind Sie sicher, dass Sie diesen Benutzer löschen möchten? Diese Aktion kann nicht rückgängig gemacht werden.")&&$.delete(route("admin.users.destroy",a.user.id))},y=l=>{const s=t.roles.indexOf(l);s>-1?t.roles.splice(s,1):t.roles.push(l)},k=l=>t.roles.includes(l);return(l,s)=>(f(),B(E,{title:"Benutzer bearbeiten"},{header:m(()=>[e("div",C,[s[4]||(s[4]=e("div",null,[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Benutzer bearbeiten "),e("p",{class:"text-sm text-gray-600 mt-1"}," Benutzer-Informationen und Rollen verwalten ")],-1)),e("div",U,[n(p,{href:l.route("admin.users"),as:"Link"},{default:m(()=>s[3]||(s[3]=[o(" Zurück zur Benutzer-Liste ",-1)])),_:1,__:[3]},8,["href"])])])]),default:m(()=>[e("div",j,[e("div",A,[e("div",R,[e("form",{onSubmit:z(v,["prevent"]),class:"p-6"},[e("div",F,[s[6]||(s[6]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"}," Grundinformationen ",-1)),e("div",I,[e("div",null,[n(_,{for:"name",value:"Name"}),n(x,{id:"name",modelValue:i(t).name,"onUpdate:modelValue":s[0]||(s[0]=r=>i(t).name=r),type:"text",class:"mt-1 block w-full",required:"",autofocus:""},null,8,["modelValue"]),n(c,{class:"mt-2",message:i(t).errors.name},null,8,["message"])]),e("div",null,[n(_,{for:"email",value:"E-Mail"}),n(x,{id:"email",modelValue:i(t).email,"onUpdate:modelValue":s[1]||(s[1]=r=>i(t).email=r),type:"email",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),n(c,{class:"mt-2",message:i(t).errors.email},null,8,["message"])])]),e("div",N,[e("label",q,[n(b,{checked:i(t).is_active,"onUpdate:checked":s[2]||(s[2]=r=>i(t).is_active=r),name:"is_active"},null,8,["checked"]),s[5]||(s[5]=e("span",{class:"ml-2 text-sm text-gray-600"},"Benutzer ist aktiv",-1))]),n(c,{class:"mt-2",message:i(t).errors.is_active},null,8,["message"])])]),e("div",M,[s[7]||(s[7]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"}," Rollen ",-1)),e("div",O,[(f(!0),g(D,null,V(d.roles,r=>(f(),g("div",{key:r.id,class:"flex items-center"},[e("label",G,[n(b,{checked:k(r.name),onChange:P=>y(r.name)},null,8,["checked","onChange"]),e("span",T,u(r.name.replace("_"," ")),1)])]))),128))]),n(c,{class:"mt-2",message:i(t).errors.roles},null,8,["message"])]),e("div",Z,[s[11]||(s[11]=e("h4",{class:"text-sm font-medium text-gray-700 mb-2"}," Benutzer-Informationen ",-1)),e("div",H,[e("p",null,[s[8]||(s[8]=e("strong",null,"ID:",-1)),o(" "+u(d.user.id),1)]),e("p",null,[s[9]||(s[9]=e("strong",null,"Erstellt:",-1)),o(" "+u(new Date(d.user.created_at).toLocaleDateString("de-DE")),1)]),e("p",null,[s[10]||(s[10]=e("strong",null,"Aktualisiert:",-1)),o(" "+u(new Date(d.user.updated_at).toLocaleDateString("de-DE")),1)])])]),e("div",J,[e("button",{type:"button",onClick:h,class:"inline-flex items-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 active:bg-red-900 transition ease-in-out duration-150"}," Benutzer löschen "),e("div",K,[n(p,{href:l.route("admin.users"),as:"Link"},{default:m(()=>s[12]||(s[12]=[o(" Abbrechen ",-1)])),_:1,__:[12]},8,["href"]),n(L,{class:S({"opacity-25":i(t).processing}),disabled:i(t).processing},{default:m(()=>s[13]||(s[13]=[o(" Änderungen speichern ",-1)])),_:1,__:[13]},8,["class","disabled"])])])],32)])])])]),_:1}))}};export{re as default};
