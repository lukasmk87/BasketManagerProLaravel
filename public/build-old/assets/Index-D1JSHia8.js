import{r as y,q as z,c as w,o as n,w as b,a as e,d as l,e as r,m as c,z as I,g as u,t as a,F as P,h as U,p as h,v as k,G as K,n as O,b as q,f as M,A as $,j as A}from"./app-CoGxkfVc.js";import{_ as H}from"./AppLayout-Drc7lzl4.js";import{_ as G}from"./PrimaryButton-CwuCmxQ7.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const Y={class:"flex justify-between items-center"},J={class:"py-12"},Q={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},W={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},X={class:"p-6"},Z={class:"mb-6 space-y-4"},ee={class:"flex justify-between items-center"},te={class:"flex-1 max-w-md"},se={class:"relative"},oe={class:"flex items-center space-x-4"},ie={key:0,class:"ml-2 bg-indigo-100 text-indigo-800 text-xs px-2 py-1 rounded-full"},ne={class:"text-sm text-gray-600"},ae={class:"bg-gray-50 p-4 rounded-lg border border-gray-200"},le={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4"},re=["value"],de={class:"mt-4 flex flex-wrap gap-4"},ue={class:"flex items-center"},ce={class:"flex items-center"},ge={class:"flex items-center"},me={key:0,class:"flex flex-wrap gap-2"},ve={key:0,class:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800"},fe={key:1,class:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-green-100 text-green-800"},pe={key:2,class:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-yellow-100 text-yellow-800"},xe={key:3,class:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-red-100 text-red-800"},be={key:1,class:"bg-indigo-50 p-4 rounded-lg border border-indigo-200"},ye={class:"flex items-center justify-between"},he={class:"flex items-center space-x-4"},_e={class:"text-sm font-medium text-indigo-900"},we={class:"flex items-center space-x-2"},ke=["disabled"],Se={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},Ce={class:"absolute top-4 left-4 z-10"},Ae=["value"],je={class:"p-6 pt-12"},Fe={class:"flex items-center justify-between mb-4"},Ve={class:"flex items-center space-x-3"},Te={class:"flex-shrink-0"},ze={class:"w-12 h-12 bg-indigo-100 rounded-full flex items-center justify-center"},Pe={class:"text-indigo-800 font-bold text-lg"},Ue={class:"text-lg font-semibold text-gray-900"},Me={class:"text-sm text-gray-600"},$e={class:"flex items-center space-x-2"},Ge={key:0,class:"inline-flex items-center px-2 py-1 text-xs font-medium bg-yellow-100 text-yellow-800 rounded-full"},Ne={key:1,class:"inline-flex items-center px-2 py-1 text-xs font-medium bg-blue-100 text-blue-800 rounded-full"},Be={class:"text-sm text-gray-600 space-y-2"},De={key:0},Le={key:1},Ee={class:"mt-4"},Re={class:"mt-4 pt-4 border-t border-gray-200"},Ie={class:"flex justify-between items-center"},Ke={class:"flex space-x-2"},Oe={key:0,class:"text-center py-12"},qe={key:1,class:"mt-8"},He={class:"flex justify-center"},Ye={class:"text-sm text-gray-600"},et={__name:"Index",props:{players:Object,can:Object,teams:{type:Array,default:()=>[]}},setup(g){const _=g,f=y(""),S=y(!1),m=y([]),v=y(""),i=y({team_id:"",position:"",status:"",medical_status:"",is_captain:!1,is_starter:!1,is_rookie:!1}),j=z(()=>{if(_.teams&&_.teams.length>0)return _.teams;const o=new Map;return _.players.data.forEach(t=>{t.team&&o.set(t.team.id,t.team)}),Array.from(o.values())}),C=z(()=>{let o=0;return i.value.team_id&&o++,i.value.position&&o++,i.value.status&&o++,i.value.medical_status&&o++,i.value.is_captain&&o++,i.value.is_starter&&o++,i.value.is_rookie&&o++,o}),N=o=>{if(!o)return null;const t=new Date,s=new Date(o);let p=t.getFullYear()-s.getFullYear();const x=t.getMonth()-s.getMonth();return(x<0||x===0&&t.getDate()<s.getDate())&&p--,p},F=o=>({active:"Aktiv",inactive:"Inaktiv",injured:"Verletzt",suspended:"Gesperrt"})[o]||o,B=o=>({cleared:"Freigegeben",expired:"Abgelaufen",pending:"Ausstehend"})[o]||o,D=o=>{const t=j.value.find(s=>s.id==o);return t?t.name:"Unbekannt"};let V=null;const L=()=>{clearTimeout(V),V=setTimeout(()=>{d()},300)},d=()=>{const o=new URLSearchParams;f.value&&o.append("search",f.value),Object.entries(i.value).forEach(([p,x])=>{x&&x!==!1&&o.append(p,x)});const t=o.toString(),s=t?`${route("web.players.index")}?${t}`:route("web.players.index");A.visit(s,{preserveState:!0,preserveScroll:!0,only:["players"]})},E=()=>{f.value="",i.value={team_id:"",position:"",status:"",medical_status:"",is_captain:!1,is_starter:!1,is_rookie:!1},d()},T=()=>{m.value=[],v.value=""},R=()=>{if(!v.value||m.value.length===0)return;const o={player_ids:m.value,action:v.value};switch(v.value){case"activate":A.post(route("web.players.bulk-status"),{...o,status:"active"});break;case"deactivate":A.post(route("web.players.bulk-status"),{...o,status:"inactive"});break;case"export":const t=route("web.players.export")+"?"+new URLSearchParams({player_ids:m.value.join(",")}).toString();window.open(t,"_blank");break}T()};return(()=>{const o=new URLSearchParams(window.location.search);f.value=o.get("search")||"",i.value.team_id=o.get("team_id")||"",i.value.position=o.get("position")||"",i.value.status=o.get("status")||"",i.value.medical_status=o.get("medical_status")||"",i.value.is_captain=o.get("is_captain")==="true",i.value.is_starter=o.get("is_starter")==="true",i.value.is_rookie=o.get("is_rookie")==="true"})(),(o,t)=>(n(),w(H,{title:"Spieler"},{header:b(()=>[e("div",Y,[t[16]||(t[16]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Spieler ",-1)),e("div",null,[g.can.create?(n(),w(G,{key:0,href:o.route("web.players.create"),as:"Link"},{default:b(()=>t[15]||(t[15]=[u(" Spieler hinzufügen ",-1)])),_:1,__:[15]},8,["href"])):r("",!0)])])]),default:b(()=>[e("div",J,[e("div",Q,[e("div",W,[e("div",X,[e("div",Z,[e("div",ee,[e("div",te,[e("div",se,[c(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>f.value=s),onInput:L,type:"text",placeholder:"Spieler suchen (Name, Rückennummer, Position)...",class:"w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 pl-10"},null,544),[[I,f.value]]),t[17]||(t[17]=e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},[e("svg",{class:"h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1))])]),e("div",oe,[e("button",{onClick:t[1]||(t[1]=s=>S.value=!S.value),class:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},[t[18]||(t[18]=e("svg",{class:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.207A1 1 0 013 6.5V4z"})],-1)),t[19]||(t[19]=u(" Filter ",-1)),C.value>0?(n(),l("span",ie,a(C.value),1)):r("",!0)]),e("div",ne,a(g.players.total)+" Spieler gefunden ",1)])]),c(e("div",ae,[e("div",le,[e("div",null,[t[21]||(t[21]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Team",-1)),c(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>i.value.team_id=s),onChange:d,class:"w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},[t[20]||(t[20]=e("option",{value:""},"Alle Teams",-1)),(n(!0),l(P,null,U(j.value,s=>(n(),l("option",{key:s.id,value:s.id},a(s.name),9,re))),128))],544),[[h,i.value.team_id]])]),e("div",null,[t[23]||(t[23]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Position",-1)),c(e("select",{"onUpdate:modelValue":t[3]||(t[3]=s=>i.value.position=s),onChange:d,class:"w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},t[22]||(t[22]=[e("option",{value:""},"Alle Positionen",-1),e("option",{value:"PG"},"Point Guard (PG)",-1),e("option",{value:"SG"},"Shooting Guard (SG)",-1),e("option",{value:"SF"},"Small Forward (SF)",-1),e("option",{value:"PF"},"Power Forward (PF)",-1),e("option",{value:"C"},"Center (C)",-1)]),544),[[h,i.value.position]])]),e("div",null,[t[25]||(t[25]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Status",-1)),c(e("select",{"onUpdate:modelValue":t[4]||(t[4]=s=>i.value.status=s),onChange:d,class:"w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},t[24]||(t[24]=[e("option",{value:""},"Alle Status",-1),e("option",{value:"active"},"Aktiv",-1),e("option",{value:"inactive"},"Inaktiv",-1),e("option",{value:"injured"},"Verletzt",-1),e("option",{value:"suspended"},"Gesperrt",-1)]),544),[[h,i.value.status]])]),e("div",null,[t[27]||(t[27]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Medical Status",-1)),c(e("select",{"onUpdate:modelValue":t[5]||(t[5]=s=>i.value.medical_status=s),onChange:d,class:"w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},t[26]||(t[26]=[e("option",{value:""},"Alle",-1),e("option",{value:"cleared"},"Freigegeben",-1),e("option",{value:"expired"},"Abgelaufen",-1),e("option",{value:"pending"},"Ausstehend",-1)]),544),[[h,i.value.medical_status]])])]),e("div",de,[e("label",ue,[c(e("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=s=>i.value.is_captain=s),onChange:d,class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,544),[[k,i.value.is_captain]]),t[28]||(t[28]=e("span",{class:"ml-2 text-sm text-gray-700"},"Nur Kapitäne",-1))]),e("label",ce,[c(e("input",{type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=s=>i.value.is_starter=s),onChange:d,class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,544),[[k,i.value.is_starter]]),t[29]||(t[29]=e("span",{class:"ml-2 text-sm text-gray-700"},"Nur Stammspieler",-1))]),e("label",ge,[c(e("input",{type:"checkbox","onUpdate:modelValue":t[8]||(t[8]=s=>i.value.is_rookie=s),onChange:d,class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,544),[[k,i.value.is_rookie]]),t[30]||(t[30]=e("span",{class:"ml-2 text-sm text-gray-700"},"Nur Rookies",-1))])]),e("div",{class:"mt-4 flex justify-end"},[e("button",{onClick:E,class:"text-sm text-indigo-600 hover:text-indigo-500"}," Alle Filter zurücksetzen ")])],512),[[K,S.value]]),C.value>0?(n(),l("div",me,[i.value.team_id?(n(),l("span",ve,[u(" Team: "+a(D(i.value.team_id))+" ",1),e("button",{onClick:t[9]||(t[9]=s=>{i.value.team_id="",d()}),class:"ml-2 text-blue-600 hover:text-blue-800"},"×")])):r("",!0),i.value.position?(n(),l("span",fe,[u(" Position: "+a(i.value.position)+" ",1),e("button",{onClick:t[10]||(t[10]=s=>{i.value.position="",d()}),class:"ml-2 text-green-600 hover:text-green-800"},"×")])):r("",!0),i.value.status?(n(),l("span",pe,[u(" Status: "+a(F(i.value.status))+" ",1),e("button",{onClick:t[11]||(t[11]=s=>{i.value.status="",d()}),class:"ml-2 text-yellow-600 hover:text-yellow-800"},"×")])):r("",!0),i.value.medical_status?(n(),l("span",xe,[u(" Medical: "+a(B(i.value.medical_status))+" ",1),e("button",{onClick:t[12]||(t[12]=s=>{i.value.medical_status="",d()}),class:"ml-2 text-red-600 hover:text-red-800"},"×")])):r("",!0)])):r("",!0),m.value.length>0?(n(),l("div",be,[e("div",ye,[e("div",he,[e("span",_e,a(m.value.length)+" Spieler ausgewählt ",1),e("button",{onClick:T,class:"text-sm text-indigo-700 hover:text-indigo-500"}," Auswahl aufheben ")]),e("div",we,[c(e("select",{"onUpdate:modelValue":t[13]||(t[13]=s=>v.value=s),class:"border-indigo-300 rounded-md shadow-sm focus:border-indigo-500 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 text-sm"},t[31]||(t[31]=[e("option",{value:""},"Aktion wählen",-1),e("option",{value:"activate"},"Aktivieren",-1),e("option",{value:"deactivate"},"Deaktivieren",-1),e("option",{value:"export"},"Exportieren",-1)]),512),[[h,v.value]]),e("button",{onClick:R,disabled:!v.value,class:"bg-indigo-600 hover:bg-indigo-700 disabled:bg-gray-300 text-white px-4 py-2 rounded-md text-sm font-medium"}," Ausführen ",8,ke)])])])):r("",!0)]),e("div",Se,[(n(!0),l(P,null,U(g.players.data,s=>(n(),l("div",{key:s.id,class:"bg-white border rounded-lg shadow-sm hover:shadow-md transition-shadow duration-200 relative"},[e("div",Ce,[c(e("input",{type:"checkbox",value:s.id,"onUpdate:modelValue":t[14]||(t[14]=p=>m.value=p),class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,8,Ae),[[k,m.value]])]),e("div",je,[e("div",Fe,[e("div",Ve,[e("div",Te,[e("div",ze,[e("span",Pe,a(s.jersey_number),1)])]),e("div",null,[e("h3",Ue,a(s.user?.name||`${s.first_name} ${s.last_name}`),1),e("p",Me,a(s.primary_position),1)])]),e("div",$e,[s.is_captain?(n(),l("span",Ge," Kapitän ")):r("",!0),s.is_starter?(n(),l("span",Ne," Starter ")):r("",!0)])]),e("div",Be,[e("div",null,[t[32]||(t[32]=e("span",{class:"font-medium"},"Team:",-1)),u(" "+a(s.team?.name),1)]),e("div",null,[t[33]||(t[33]=e("span",{class:"font-medium"},"Club:",-1)),u(" "+a(s.team?.club?.name),1)]),s.height?(n(),l("div",De,[t[34]||(t[34]=e("span",{class:"font-medium"},"Größe:",-1)),u(" "+a(s.height)+" cm ",1)])):r("",!0),s.birth_date?(n(),l("div",Le,[t[35]||(t[35]=e("span",{class:"font-medium"},"Alter:",-1)),u(" "+a(N(s.birth_date))+" Jahre ",1)])):r("",!0)]),e("div",Ee,[e("span",{class:O([{"bg-green-100 text-green-800":s.status==="active","bg-red-100 text-red-800":s.status==="injured","bg-gray-100 text-gray-800":s.status==="inactive","bg-yellow-100 text-yellow-800":s.status==="suspended"},"inline-flex px-2 py-1 text-xs font-semibold rounded-full"])},a(F(s.status)),3)]),e("div",Re,[e("div",Ie,[q(M($),{href:o.route("web.players.show",s.id),class:"text-indigo-600 hover:text-indigo-500 font-medium text-sm"},{default:b(()=>t[36]||(t[36]=[u(" Details anzeigen ",-1)])),_:2,__:[36]},1032,["href"]),e("div",Ke,[s.can?.update?(n(),w(M($),{key:0,href:o.route("web.players.edit",s.id),class:"text-gray-400 hover:text-gray-500"},{default:b(()=>t[37]||(t[37]=[e("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})],-1)])),_:2,__:[37]},1032,["href"])):r("",!0)])])])])]))),128))]),g.players.data.length===0?(n(),l("div",Oe,[t[39]||(t[39]=e("div",{class:"text-gray-500 text-lg mb-4"}," Keine Spieler gefunden ",-1)),g.can.create?(n(),w(G,{key:0,href:o.route("web.players.create"),as:"Link"},{default:b(()=>t[38]||(t[38]=[u(" Ersten Spieler hinzufügen ",-1)])),_:1,__:[38]},8,["href"])):r("",!0)])):r("",!0),g.players.data.length>0?(n(),l("div",qe,[e("div",He,[e("div",Ye," Seite "+a(g.players.current_page)+" von "+a(g.players.last_page),1)])])):r("",!0)])])])])]),_:1}))}};export{et as default};
