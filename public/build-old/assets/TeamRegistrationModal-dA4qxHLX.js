import{r as h,u as O,k as q,q as H,c as _,o as n,w as p,a as e,d as i,g as d,b as r,f as o,e as c,F as T,h as C,n as x,t as a,m as y,p as V,z as K,v as Y}from"./app-CoGxkfVc.js";import{_ as Z}from"./DialogModal-C0QVC45F.js";import{_ as g}from"./InputLabel-C_RcxF_l.js";import{_ as b}from"./InputError-o9U-HAWP.js";import{_ as k}from"./TextInput-BJ5pfwEC.js";import{_ as E}from"./PrimaryButton-CwuCmxQ7.js";import{_ as N}from"./SecondaryButton-Bp3bKgLC.js";import"./Modal-CLjYKrsc.js";const G={class:"space-y-6"},I={class:"flex items-center justify-center space-x-4 mb-6"},J={key:0,class:"ml-4 w-8 border-t border-gray-300"},Q={key:0,class:"space-y-4"},X={class:"bg-gray-50 p-4 rounded-lg"},ee={class:"grid grid-cols-1 gap-4"},te=["value"],se={key:0,class:"border rounded-lg p-4 bg-white"},oe={class:"flex items-start space-x-4"},le={class:"flex-shrink-0"},ae=["src","alt"],ne={class:"flex-1"},ie={class:"text-lg font-medium text-gray-900"},re={class:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2 text-sm text-gray-500"},de={key:1,class:"space-y-4"},ue={class:"bg-gray-50 p-4 rounded-lg"},me={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},ce={key:0,class:"space-y-3"},ge={class:"grid gap-3"},pe=["onClick"],fe={class:"flex items-center justify-between"},ve={class:"flex-1"},xe={class:"flex items-center space-x-2"},ye={class:"font-medium text-gray-900"},be={class:"grid grid-cols-2 md:grid-cols-4 gap-2 mt-2 text-sm text-gray-500"},he={class:"ml-4"},_e={key:1,class:"text-center py-6"},ke={key:2,class:"space-y-4"},we={key:0,class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},Te={class:"flex"},Ce={class:"ml-3 flex-1"},Ve={class:"text-sm font-medium text-blue-800"},Pe={class:"mt-2 text-sm text-blue-700"},De={class:"space-y-4"},Me={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Be={class:"flex items-start space-x-3"},ze={key:3,class:"space-y-4"},Ae={class:"bg-gray-50 rounded-lg p-4 space-y-4"},Ee={class:"text-sm text-gray-600"},Ne={class:"text-sm text-gray-600"},Se={class:"text-sm text-gray-500"},Re={class:"text-sm text-gray-600"},We={key:0},Fe={class:"text-sm text-gray-600"},Le={key:0},Ue={class:"text-sm text-gray-600"},je={class:"flex justify-between"},$e={key:1},Oe={class:"flex space-x-3"},qe={key:0,class:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Xe={__name:"TeamRegistrationModal",props:{show:Boolean},emits:["close","teamRegistered"],setup(S,{emit:R}){const P=R,D=h([{title:"Team auswählen"},{title:"Wettkampf"},{title:"Details"},{title:"Bestätigung"}]),u=h(1),s=O({selectedTeam:null,competitionType:"",federation:"",selectedCompetition:null,contactPerson:"",contactEmail:"",contactPhone:"",expectedPlayers:12,additionalNotes:"",acceptTerms:!1}),M=h([]),v=h([]);q(()=>{W()});const W=()=>{M.value=[{id:1,name:"Mein Basketball Team",logo:null,currentLeague:"Regionalliga Nord",playerCount:14,headCoach:"Max Mustermann",foundedYear:2018},{id:2,name:"Zweites Team",logo:null,currentLeague:"Oberliga",playerCount:12,headCoach:"Anna Schmidt",foundedYear:2020}]},B=H(()=>{switch(u.value){case 1:return s.selectedTeam!==null;case 2:return s.selectedCompetition!==null;case 3:return s.contactPerson&&s.contactEmail&&s.expectedPlayers&&s.acceptTerms;default:return!0}}),F=()=>{console.log("Loading details for team:",s.selectedTeam)},z=async()=>{if(!(!s.competitionType||!s.federation))try{const m=[{id:1,name:"Deutsche Meisterschaft",season:"2024/25",currentTeams:24,maxTeams:32,registrationOpen:!0,startDate:"2024-10-01",registrationDeadline:"2024-09-15",registrationFee:"€1000"},{id:2,name:"Europa Cup",season:"2024/25",currentTeams:16,maxTeams:16,registrationOpen:!1,startDate:"2024-11-01",registrationDeadline:"2024-08-31",registrationFee:"€2500"}];v.value=m.filter(t=>s.competitionType==="tournament"?t.name.includes("Cup")||t.name.includes("Meisterschaft"):s.competitionType==="league"?t.name.includes("Liga"):!0)}catch(m){console.error("Failed to load competitions:",m)}},L=m=>{s.selectedCompetition=m},U=()=>{B.value&&u.value<4&&u.value++},j=()=>{u.value>1&&u.value--},$=async()=>{s.processing=!0;try{await new Promise(m=>setTimeout(m,2e3)),P("teamRegistered",{team:s.selectedTeam,competition:s.selectedCompetition,contactPerson:s.contactPerson}),w()}catch(m){console.error("Registration failed:",m),s.setError("general","Registrierung fehlgeschlagen. Bitte versuchen Sie es erneut.")}finally{s.processing=!1}},w=()=>{u.value=1,s.reset(),s.clearErrors(),v.value=[],P("close")},A=m=>m?new Date(m).toLocaleDateString("de-DE"):"N/A";return(m,t)=>(n(),_(Z,{show:S.show,onClose:w,"max-width":"4xl"},{title:p(()=>t[9]||(t[9]=[d(" Team-Registrierung für Wettkämpfe ",-1)])),content:p(()=>[e("div",G,[e("div",I,[(n(!0),i(T,null,C(D.value,(l,f)=>(n(),i("div",{key:f,class:"flex items-center"},[e("div",{class:x(["flex items-center justify-center w-8 h-8 rounded-full border-2 text-sm font-medium",u.value>=f+1?"bg-indigo-600 border-indigo-600 text-white":"border-gray-300 text-gray-500"])},a(f+1),3),e("div",{class:x(["ml-2 text-sm font-medium",u.value>=f+1?"text-indigo-600":"text-gray-500"])},a(l.title),3),f<D.value.length-1?(n(),i("div",J)):c("",!0)]))),128))]),u.value===1?(n(),i("div",Q,[t[15]||(t[15]=e("h3",{class:"text-lg font-medium text-gray-900"},"Team auswählen",-1)),e("div",X,[e("div",ee,[e("div",null,[r(g,{for:"team_select",value:"Team"}),y(e("select",{id:"team_select","onUpdate:modelValue":t[0]||(t[0]=l=>o(s).selectedTeam=l),class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm",onChange:F},[t[10]||(t[10]=e("option",{value:""},"Team auswählen...",-1)),(n(!0),i(T,null,C(M.value,l=>(n(),i("option",{key:l.id,value:l},a(l.name),9,te))),128))],544),[[V,o(s).selectedTeam]]),r(b,{message:o(s).errors.selectedTeam,class:"mt-2"},null,8,["message"])])])]),o(s).selectedTeam?(n(),i("div",se,[e("div",oe,[e("div",le,[e("img",{class:"h-16 w-16 rounded-lg object-cover",src:o(s).selectedTeam.logo||"/default-team-logo.png",alt:o(s).selectedTeam.name},null,8,ae)]),e("div",ne,[e("h4",ie,a(o(s).selectedTeam.name),1),e("div",re,[e("div",null,[t[11]||(t[11]=e("span",{class:"font-medium"},"Liga:",-1)),d(" "+a(o(s).selectedTeam.currentLeague||"N/A"),1)]),e("div",null,[t[12]||(t[12]=e("span",{class:"font-medium"},"Spieler:",-1)),d(" "+a(o(s).selectedTeam.playerCount||0),1)]),e("div",null,[t[13]||(t[13]=e("span",{class:"font-medium"},"Trainer:",-1)),d(" "+a(o(s).selectedTeam.headCoach||"N/A"),1)]),e("div",null,[t[14]||(t[14]=e("span",{class:"font-medium"},"Gegründet:",-1)),d(" "+a(o(s).selectedTeam.foundedYear||"N/A"),1)])])])])])):c("",!0)])):c("",!0),u.value===2?(n(),i("div",de,[t[24]||(t[24]=e("h3",{class:"text-lg font-medium text-gray-900"},"Wettkampf auswählen",-1)),e("div",ue,[e("div",me,[e("div",null,[r(g,{for:"competition_type",value:"Wettkampf-Art"}),y(e("select",{id:"competition_type","onUpdate:modelValue":t[1]||(t[1]=l=>o(s).competitionType=l),class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm",onChange:z},t[16]||(t[16]=[e("option",{value:""},"Art auswählen...",-1),e("option",{value:"league"},"Liga",-1),e("option",{value:"tournament"},"Turnier",-1),e("option",{value:"cup"},"Pokal",-1)]),544),[[V,o(s).competitionType]])]),e("div",null,[r(g,{for:"federation",value:"Verband"}),y(e("select",{id:"federation","onUpdate:modelValue":t[2]||(t[2]=l=>o(s).federation=l),class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm",onChange:z},t[17]||(t[17]=[e("option",{value:""},"Verband auswählen...",-1),e("option",{value:"dbb"},"DBB (Deutscher Basketball Bund)",-1),e("option",{value:"fiba"},"FIBA Europe",-1)]),544),[[V,o(s).federation]])])])]),v.value.length>0?(n(),i("div",ce,[t[22]||(t[22]=e("h4",{class:"font-medium text-gray-900"},"Verfügbare Wettkämpfe",-1)),e("div",ge,[(n(!0),i(T,null,C(v.value,l=>(n(),i("div",{key:l.id,onClick:f=>L(l),class:x(["border rounded-lg p-4 cursor-pointer transition-colors",o(s).selectedCompetition?.id===l.id?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"])},[e("div",fe,[e("div",ve,[e("div",xe,[e("h5",ye,a(l.name),1),e("span",{class:x(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",l.registrationOpen?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},a(l.registrationOpen?"Offen":"Geschlossen"),3)]),e("div",be,[e("div",null,[t[18]||(t[18]=e("span",{class:"font-medium"},"Saison:",-1)),d(" "+a(l.season),1)]),e("div",null,[t[19]||(t[19]=e("span",{class:"font-medium"},"Teilnehmer:",-1)),d(" "+a(l.currentTeams)+"/"+a(l.maxTeams),1)]),e("div",null,[t[20]||(t[20]=e("span",{class:"font-medium"},"Start:",-1)),d(" "+a(A(l.startDate)),1)]),e("div",null,[t[21]||(t[21]=e("span",{class:"font-medium"},"Anmeldeschluss:",-1)),d(" "+a(A(l.registrationDeadline)),1)])])]),e("div",he,[e("div",{class:x(["w-4 h-4 rounded-full border-2",o(s).selectedCompetition?.id===l.id?"bg-indigo-600 border-indigo-600":"border-gray-300"])},null,2)])])],10,pe))),128))])])):c("",!0),o(s).competitionType&&o(s).federation&&v.value.length===0?(n(),i("div",_e,t[23]||(t[23]=[e("svg",{class:"mx-auto h-10 w-10 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9.172 16.172a4 4 0 015.656 0M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Keine Wettkämpfe verfügbar",-1),e("p",{class:"mt-1 text-sm text-gray-500"},"Für die gewählten Kriterien sind derzeit keine Wettkämpfe verfügbar.",-1)]))):c("",!0)])):c("",!0),u.value===3?(n(),i("div",ke,[t[27]||(t[27]=e("h3",{class:"text-lg font-medium text-gray-900"},"Registrierungsdetails",-1)),o(s).selectedCompetition?(n(),i("div",we,[e("div",Te,[t[25]||(t[25]=e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])],-1)),e("div",Ce,[e("h4",Ve,"Registrierung für: "+a(o(s).selectedCompetition.name),1),e("div",Pe,[e("p",null,"Team: "+a(o(s).selectedTeam.name),1),e("p",null,"Saison: "+a(o(s).selectedCompetition.season),1),e("p",null,"Teilnahmegebühr: "+a(o(s).selectedCompetition.registrationFee||"Kostenlos"),1)])])])])):c("",!0),e("div",De,[e("div",Me,[e("div",null,[r(g,{for:"contact_person",value:"Ansprechpartner"}),r(k,{id:"contact_person",modelValue:o(s).contactPerson,"onUpdate:modelValue":t[3]||(t[3]=l=>o(s).contactPerson=l),type:"text",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),r(b,{message:o(s).errors.contactPerson,class:"mt-2"},null,8,["message"])]),e("div",null,[r(g,{for:"contact_email",value:"Kontakt E-Mail"}),r(k,{id:"contact_email",modelValue:o(s).contactEmail,"onUpdate:modelValue":t[4]||(t[4]=l=>o(s).contactEmail=l),type:"email",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),r(b,{message:o(s).errors.contactEmail,class:"mt-2"},null,8,["message"])]),e("div",null,[r(g,{for:"contact_phone",value:"Telefon"}),r(k,{id:"contact_phone",modelValue:o(s).contactPhone,"onUpdate:modelValue":t[5]||(t[5]=l=>o(s).contactPhone=l),type:"tel",class:"mt-1 block w-full"},null,8,["modelValue"])]),e("div",null,[r(g,{for:"expected_players",value:"Erwartete Spieleranzahl"}),r(k,{id:"expected_players",modelValue:o(s).expectedPlayers,"onUpdate:modelValue":t[6]||(t[6]=l=>o(s).expectedPlayers=l),type:"number",min:"8",max:"20",class:"mt-1 block w-full",required:""},null,8,["modelValue"]),r(b,{message:o(s).errors.expectedPlayers,class:"mt-2"},null,8,["message"])])]),e("div",null,[r(g,{for:"additional_notes",value:"Zusätzliche Anmerkungen"}),y(e("textarea",{id:"additional_notes","onUpdate:modelValue":t[7]||(t[7]=l=>o(s).additionalNotes=l),rows:"3",class:"mt-1 block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm",placeholder:"Besondere Anforderungen, Anmerkungen..."},null,512),[[K,o(s).additionalNotes]])]),e("div",Be,[y(e("input",{id:"accept_terms","onUpdate:modelValue":t[8]||(t[8]=l=>o(s).acceptTerms=l),type:"checkbox",class:"mt-1 h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",required:""},null,512),[[Y,o(s).acceptTerms]]),t[26]||(t[26]=e("label",{for:"accept_terms",class:"text-sm text-gray-700"},[d(" Ich akzeptiere die "),e("a",{href:"#",class:"text-indigo-600 hover:text-indigo-500"},"Teilnahmebedingungen"),d(" und "),e("a",{href:"#",class:"text-indigo-600 hover:text-indigo-500"},"Datenschutzbestimmungen"),d(" des Verbandes. ")],-1))]),r(b,{message:o(s).errors.acceptTerms,class:"mt-2"},null,8,["message"])])])):c("",!0),u.value===4?(n(),i("div",ze,[t[33]||(t[33]=e("h3",{class:"text-lg font-medium text-gray-900"},"Registrierung bestätigen",-1)),e("div",Ae,[e("div",null,[t[28]||(t[28]=e("h4",{class:"font-medium text-gray-900"},"Team",-1)),e("p",Ee,a(o(s).selectedTeam?.name),1)]),e("div",null,[t[29]||(t[29]=e("h4",{class:"font-medium text-gray-900"},"Wettkampf",-1)),e("p",Ne,a(o(s).selectedCompetition?.name),1),e("p",Se,a(o(s).selectedCompetition?.season),1)]),e("div",null,[t[30]||(t[30]=e("h4",{class:"font-medium text-gray-900"},"Kontaktdaten",-1)),e("div",Re,[e("p",null,a(o(s).contactPerson),1),e("p",null,a(o(s).contactEmail),1),o(s).contactPhone?(n(),i("p",We,a(o(s).contactPhone),1)):c("",!0)])]),e("div",null,[t[31]||(t[31]=e("h4",{class:"font-medium text-gray-900"},"Erwartete Spieleranzahl",-1)),e("p",Fe,a(o(s).expectedPlayers)+" Spieler",1)]),o(s).additionalNotes?(n(),i("div",Le,[t[32]||(t[32]=e("h4",{class:"font-medium text-gray-900"},"Anmerkungen",-1)),e("p",Ue,a(o(s).additionalNotes),1)])):c("",!0)]),t[34]||(t[34]=e("div",{class:"bg-yellow-50 border border-yellow-200 rounded-md p-4"},[e("div",{class:"flex"},[e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])]),e("div",{class:"ml-3"},[e("h4",{class:"text-sm font-medium text-yellow-800"},"Wichtiger Hinweis"),e("p",{class:"mt-1 text-sm text-yellow-700"}," Nach der Registrierung erhalten Sie eine Bestätigungs-E-Mail. Die endgültige Teilnahmeberechtigung wird vom jeweiligen Verband geprüft und bestätigt. ")])])],-1))])):c("",!0)])]),footer:p(()=>[e("div",je,[u.value>1?(n(),_(N,{key:0,onClick:j},{default:p(()=>t[35]||(t[35]=[d(" Zurück ",-1)])),_:1,__:[35]})):(n(),i("div",$e)),e("div",Oe,[r(N,{onClick:w},{default:p(()=>t[36]||(t[36]=[d(" Abbrechen ",-1)])),_:1,__:[36]}),u.value<4?(n(),_(E,{key:0,onClick:U,disabled:!B.value},{default:p(()=>t[37]||(t[37]=[d(" Weiter ",-1)])),_:1,__:[37]},8,["disabled"])):(n(),_(E,{key:1,onClick:$,disabled:o(s).processing,class:"bg-green-600 hover:bg-green-700"},{default:p(()=>[o(s).processing?(n(),i("svg",qe,t[38]||(t[38]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):c("",!0),t[39]||(t[39]=d(" Registrierung abschließen ",-1))]),_:1,__:[39]},8,["disabled"]))])])]),_:1},8,["show"]))}};export{Xe as default};
