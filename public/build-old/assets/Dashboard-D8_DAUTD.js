import{r as d,k as T,c as V,o as n,w as S,a as e,b as m,g as b,n as c,t as a,l as M,d as l,F as O,h as U,e as D}from"./app-CoGxkfVc.js";import{_ as F}from"./AppLayout-Drc7lzl4.js";import P from"./PlayerSearchModal-2WR2N2vR.js";import R from"./LeagueManagementModal-D5RK03r3.js";import N from"./TeamRegistrationModal-dA4qxHLX.js";import G from"./SyncManagerModal-BjI9pY15.js";import K from"./FederationConfigModal-DoJDw_5c.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DialogModal-C0QVC45F.js";import"./Modal-CLjYKrsc.js";import"./InputLabel-C_RcxF_l.js";import"./InputError-o9U-HAWP.js";import"./TextInput-BJ5pfwEC.js";import"./PrimaryButton-CwuCmxQ7.js";import"./SecondaryButton-Bp3bKgLC.js";const W={class:"py-12"},q={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},J={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg mb-6"},Q={class:"p-6"},X={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Y={class:"bg-gray-50 rounded-lg p-4"},Z={class:"flex items-center justify-between"},ee={class:"mt-2 flex items-center"},te={class:"flex-shrink-0"},se={class:"ml-3"},oe={class:"text-sm text-gray-700"},ae={class:"text-right"},ne={class:"text-xs text-gray-400"},le={class:"mt-4"},re={class:"flex justify-between text-sm"},ie={class:"font-medium"},de={class:"mt-2"},ue={class:"bg-gray-200 rounded-full h-2"},ge={class:"bg-gray-50 rounded-lg p-4"},me={class:"flex items-center justify-between"},ce={class:"mt-2 flex items-center"},pe={class:"flex-shrink-0"},fe={class:"ml-3"},he={class:"text-sm text-gray-700"},ve={class:"text-right"},xe={class:"text-xs text-gray-400"},ye={class:"mt-4"},_e={class:"flex justify-between text-sm"},be={class:"font-medium"},we={class:"mt-2"},ke={class:"bg-gray-200 rounded-full h-2"},Se={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},Me={class:"p-6"},De={class:"flow-root"},Ce={role:"list",class:"-mb-8"},ze={key:0,class:"relative pb-8"},Ae={class:"relative flex space-x-3"},Ie={class:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20"},Ee={key:0,"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"},Be={key:1,"fill-rule":"evenodd",d:"M10 2a4 4 0 00-4 4v1H5a1 1 0 00-.994.89l-1 9A1 1 0 004 18h12a1 1 0 00.994-1.11l-1-9A1 1 0 0015 7h-1V6a4 4 0 00-4-4zM8 6a2 2 0 114 0v1H8V6z","clip-rule":"evenodd"},He={key:2,"fill-rule":"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z","clip-rule":"evenodd"},$e={class:"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4"},je={class:"text-sm text-gray-500"},Le=["href"],Te={class:"text-right text-sm whitespace-nowrap text-gray-500"},Ve=["datetime"],Oe={key:1,class:"relative flex space-x-3"},Ue={class:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20"},Fe={key:0,"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"},Pe={key:1,"fill-rule":"evenodd",d:"M10 2a4 4 0 00-4 4v1H5a1 1 0 00-.994.89l-1 9A1 1 0 004 18h12a1 1 0 00.994-1.11l-1-9A1 1 0 0015 7h-1V6a4 4 0 00-4-4zM8 6a2 2 0 114 0v1H8V6z","clip-rule":"evenodd"},Re={key:2,"fill-rule":"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z","clip-rule":"evenodd"},Ne={class:"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4"},Ge={class:"text-sm text-gray-500"},Ke=["href"],We={class:"text-right text-sm whitespace-nowrap text-gray-500"},qe=["datetime"],mt={__name:"Dashboard",props:{dbbStatus:{type:Object,default:()=>({status:"offline",responseTime:0,lastChecked:new Date().toISOString(),availableEndpoints:0,totalEndpoints:8})},fibaStatus:{type:Object,default:()=>({status:"offline",responseTime:0,lastChecked:new Date().toISOString(),availableEndpoints:0,totalEndpoints:6})},recentActivities:{type:Array,default:()=>[]}},setup(Je){const p=d(!1),f=d(!1),h=d(!1),v=d(!1),x=d(!1),r=d({status:"online",responseTime:245,lastChecked:new Date().toISOString(),availableEndpoints:7,totalEndpoints:8}),i=d({status:"degraded",responseTime:890,lastChecked:new Date().toISOString(),availableEndpoints:4,totalEndpoints:6}),u=d([{id:1,type:"player_lookup",description:"Spielersuche durchgeführt für Lizenz",target:"12345678",targetUrl:"#",datetime:new Date(Date.now()-120*1e3).toISOString()},{id:2,type:"team_registration",description:"Team registriert für Liga",target:"Regionalliga Nord",targetUrl:"#",datetime:new Date(Date.now()-900*1e3).toISOString()},{id:3,type:"data_sync",description:"Automatische Daten-Synchronisation abgeschlossen",target:"DBB API",targetUrl:null,datetime:new Date(Date.now()-2700*1e3).toISOString()},{id:4,type:"player_lookup",description:"Spielervalidierung fehlgeschlagen für Lizenz",target:"87654321",targetUrl:"#",datetime:new Date(Date.now()-7200*1e3).toISOString()}]),y=async()=>{try{const s=await axios.get("/federation/status");r.value=s.data.dbb,i.value=s.data.fiba}catch(s){console.error("Failed to refresh federation status:",s)}},C=()=>{p.value=!0},z=()=>{f.value=!0},A=()=>{h.value=!0},I=()=>{v.value=!0},E=()=>{x.value=!0},B=s=>{console.log("Player found:",s),u.value.unshift({id:Date.now(),type:"player_lookup",description:"Spieler gefunden:",target:`${s.firstName} ${s.lastName}`,targetUrl:`/players/${s.id}`,datetime:new Date().toISOString()})},H=s=>{console.log("League registered:",s),u.value.unshift({id:Date.now(),type:"team_registration",description:"Liga-Registrierung abgeschlossen für",target:s.name,targetUrl:`/leagues/${s.id}`,datetime:new Date().toISOString()})},$=s=>{console.log("Team registered:",s),u.value.unshift({id:Date.now(),type:"team_registration",description:"Team registriert:",target:s.name,targetUrl:`/teams/${s.id}`,datetime:new Date().toISOString()})},j=s=>{console.log("Sync completed:",s),u.value.unshift({id:Date.now(),type:"data_sync",description:"Daten-Synchronisation abgeschlossen",target:`${s.recordsSync} Datensätze`,targetUrl:null,datetime:new Date().toISOString()})},L=s=>{console.log("Config updated:",s),y()},w=s=>new Date(s).toLocaleString("de-DE"),k=s=>{const t=new Date(s),g=Math.floor((new Date-t)/(1e3*60));if(g<1)return"Gerade eben";if(g<60)return`vor ${g} Min`;const _=Math.floor(g/60);return _<24?`vor ${_}h`:`vor ${Math.floor(_/24)}d`};return T(()=>{const s=setInterval(y,3e4);return()=>{clearInterval(s)}}),(s,t)=>(n(),V(F,{title:"Federation Management"},{header:S(()=>t[5]||(t[5]=[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Federation Management ",-1)])),default:S(()=>[e("div",W,[e("div",q,[e("div",J,[e("div",Q,[e("div",{class:"flex items-center justify-between mb-6"},[t[7]||(t[7]=e("h3",{class:"text-lg font-medium text-gray-900"},"Federation Status Overview",-1)),e("button",{onClick:y,class:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded"},t[6]||(t[6]=[e("svg",{class:"w-4 h-4 mr-2 inline",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),b(" Aktualisieren ",-1)]))]),e("div",X,[e("div",Y,[e("div",Z,[e("div",null,[t[8]||(t[8]=e("h4",{class:"text-sm font-medium text-gray-500"},"DBB API Status",-1)),e("div",ee,[e("div",te,[e("div",{class:c(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",r.value.status==="online"?"bg-green-100 text-green-800":r.value.status==="degraded"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"])},a(r.value.status),3)]),e("div",se,[e("p",oe,a(r.value.responseTime)+"ms",1)])])]),e("div",ae,[t[9]||(t[9]=e("p",{class:"text-sm text-gray-500"},"Letzte Prüfung",-1)),e("p",ne,a(w(r.value.lastChecked)),1)])]),e("div",le,[e("div",re,[t[10]||(t[10]=e("span",{class:"text-gray-500"},"Verfügbare Endpunkte",-1)),e("span",ie,a(r.value.availableEndpoints)+"/"+a(r.value.totalEndpoints),1)]),e("div",de,[e("div",ue,[e("div",{class:"bg-green-500 h-2 rounded-full transition-all duration-300",style:M({width:r.value.availableEndpoints/r.value.totalEndpoints*100+"%"})},null,4)])])])]),e("div",ge,[e("div",me,[e("div",null,[t[11]||(t[11]=e("h4",{class:"text-sm font-medium text-gray-500"},"FIBA API Status",-1)),e("div",ce,[e("div",pe,[e("div",{class:c(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",i.value.status==="online"?"bg-green-100 text-green-800":i.value.status==="degraded"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"])},a(i.value.status),3)]),e("div",fe,[e("p",he,a(i.value.responseTime)+"ms",1)])])]),e("div",ve,[t[12]||(t[12]=e("p",{class:"text-sm text-gray-500"},"Letzte Prüfung",-1)),e("p",xe,a(w(i.value.lastChecked)),1)])]),e("div",ye,[e("div",_e,[t[13]||(t[13]=e("span",{class:"text-gray-500"},"Verfügbare Endpunkte",-1)),e("span",be,a(i.value.availableEndpoints)+"/"+a(i.value.totalEndpoints),1)]),e("div",we,[e("div",ke,[e("div",{class:"bg-green-500 h-2 rounded-full transition-all duration-300",style:M({width:i.value.availableEndpoints/i.value.totalEndpoints*100+"%"})},null,4)])])])])])])]),e("div",{class:"bg-white overflow-hidden shadow-xl sm:rounded-lg mb-6"},[e("div",{class:"p-6"},[t[18]||(t[18]=e("h3",{class:"text-lg font-medium text-gray-900 mb-4"},"Schnellzugriff",-1)),e("div",{class:"grid grid-cols-2 md:grid-cols-4 gap-4"},[e("button",{onClick:C,class:"flex flex-col items-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 transition-colors"},t[14]||(t[14]=[e("svg",{class:"w-8 h-8 text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),e("span",{class:"text-sm font-medium text-gray-900"},"Spielersuche",-1),e("span",{class:"text-xs text-gray-500 mt-1"},"DBB/FIBA",-1)])),e("button",{onClick:z,class:"flex flex-col items-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 transition-colors"},t[15]||(t[15]=[e("svg",{class:"w-8 h-8 text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})],-1),e("span",{class:"text-sm font-medium text-gray-900"},"Liga-Verwaltung",-1),e("span",{class:"text-xs text-gray-500 mt-1"},"Registrierung",-1)])),e("button",{onClick:A,class:"flex flex-col items-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 transition-colors"},t[16]||(t[16]=[e("svg",{class:"w-8 h-8 text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1),e("span",{class:"text-sm font-medium text-gray-900"},"Team-Registrierung",-1),e("span",{class:"text-xs text-gray-500 mt-1"},"Wettkämpfe",-1)])),e("button",{onClick:I,class:"flex flex-col items-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-gray-400 hover:bg-gray-50 transition-colors"},t[17]||(t[17]=[e("svg",{class:"w-8 h-8 text-gray-400 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})],-1),e("span",{class:"text-sm font-medium text-gray-900"},"Synchronisation",-1),e("span",{class:"text-xs text-gray-500 mt-1"},"Daten-Sync",-1)]))])])]),e("div",Se,[e("div",Me,[e("div",{class:"flex items-center justify-between mb-4"},[t[19]||(t[19]=e("h3",{class:"text-lg font-medium text-gray-900"},"Letzte Federation-Aktivitäten",-1)),e("button",{onClick:E,class:"text-sm text-blue-600 hover:text-blue-800"}," Konfiguration ")]),e("div",De,[e("ul",Ce,[(n(!0),l(O,null,U(u.value,(o,g)=>(n(),l("li",{key:o.id},[g!==u.value.length-1?(n(),l("div",ze,[t[20]||(t[20]=e("span",{class:"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200","aria-hidden":"true"},null,-1)),e("div",Ae,[e("div",null,[e("span",{class:c([o.type==="player_lookup"?"bg-green-500":o.type==="team_registration"?"bg-blue-500":o.type==="data_sync"?"bg-yellow-500":"bg-gray-500","h-8 w-8 rounded-full flex items-center justify-center ring-8 ring-white"])},[(n(),l("svg",Ie,[o.type==="player_lookup"?(n(),l("path",Ee)):o.type==="team_registration"?(n(),l("path",Be)):(n(),l("path",He))]))],2)]),e("div",$e,[e("div",null,[e("p",je,[b(a(o.description)+" ",1),o.targetUrl?(n(),l("a",{key:0,href:o.targetUrl,class:"font-medium text-gray-900"},a(o.target),9,Le)):D("",!0)])]),e("div",Te,[e("time",{datetime:o.datetime},a(k(o.datetime)),9,Ve)])])])])):(n(),l("div",Oe,[e("div",null,[e("span",{class:c([o.type==="player_lookup"?"bg-green-500":o.type==="team_registration"?"bg-blue-500":o.type==="data_sync"?"bg-yellow-500":"bg-gray-500","h-8 w-8 rounded-full flex items-center justify-center ring-8 ring-white"])},[(n(),l("svg",Ue,[o.type==="player_lookup"?(n(),l("path",Fe)):o.type==="team_registration"?(n(),l("path",Pe)):(n(),l("path",Re))]))],2)]),e("div",Ne,[e("div",null,[e("p",Ge,[b(a(o.description)+" ",1),o.targetUrl?(n(),l("a",{key:0,href:o.targetUrl,class:"font-medium text-gray-900"},a(o.target),9,Ke)):D("",!0)])]),e("div",We,[e("time",{datetime:o.datetime},a(k(o.datetime)),9,qe)])])]))]))),128))])])])])])]),m(P,{show:p.value,onClose:t[0]||(t[0]=o=>p.value=!1),onPlayerFound:B},null,8,["show"]),m(R,{show:f.value,onClose:t[1]||(t[1]=o=>f.value=!1),onLeagueRegistered:H},null,8,["show"]),m(N,{show:h.value,onClose:t[2]||(t[2]=o=>h.value=!1),onTeamRegistered:$},null,8,["show"]),m(G,{show:v.value,onClose:t[3]||(t[3]=o=>v.value=!1),onSyncCompleted:j},null,8,["show"]),m(K,{show:x.value,onClose:t[4]||(t[4]=o=>x.value=!1),onConfigUpdated:L},null,8,["show"])]),_:1}))}};export{mt as default};
