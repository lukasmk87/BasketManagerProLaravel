import{r as B,c as v,o as n,w as g,a as e,m as p,d as o,F as m,h as f,t as a,p as x,e as u,n as b,g as l,b as w,l as V,j as y}from"./app-CoGxkfVc.js";import{_ as z}from"./AppLayout-Drc7lzl4.js";import{_ as A}from"./PrimaryButton-CwuCmxQ7.js";import{_ as h}from"./SecondaryButton-Bp3bKgLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const L={class:"flex justify-between items-center"},M={class:"flex gap-2"},$={class:"py-12"},N={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},E={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg mb-6"},U={class:"p-6"},F={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},G=["value"],H=["value"],K={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},O={class:"p-6"},P={key:0,class:"text-center py-12"},W={key:1,class:"space-y-4"},Z={class:"flex justify-between items-start"},q={class:"flex-1"},I={class:"flex items-center gap-2 mb-2"},J={class:"text-lg font-semibold text-gray-900"},Q={class:"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm text-gray-600"},R={class:"flex items-center gap-1"},X={class:"flex items-center gap-1"},Y={class:"flex items-center gap-1"},ee={key:0,class:"mt-2 text-sm text-gray-600"},te={key:1,class:"mt-2 flex flex-wrap gap-1"},se={key:2,class:"mt-2 text-sm text-gray-500"},ne={class:"flex gap-2 ml-4"},oe={key:0,class:"mt-3 pt-3 border-t"},ie={class:"flex items-center justify-between text-sm"},ae={class:"text-gray-600"},re={class:"w-32 bg-gray-200 rounded-full h-2"},le={key:2,class:"mt-6 flex justify-center"},de={class:"flex gap-1"},ue=["onClick"],pe={__name:"Sessions",props:{sessions:Object,teams:Array,coaches:Array,can:Object},setup(r){const d=B({team:"",period:"all",coach:""});function S(i){return new Date(i).toLocaleDateString("de-DE",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric"})}function _(i){return new Date(i).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})}function k(i){const t=new Date,s=new Date(i.scheduled_at),c=new Date(i.end_time);return i.cancelled?"Abgesagt":t<s?"Geplant":t>=s&&t<=c?"Läuft":"Beendet"}function D(i){const t=k(i);return{Abgesagt:"bg-red-100 text-red-800",Geplant:"bg-blue-100 text-blue-800",Läuft:"bg-green-100 text-green-800",Beendet:"bg-gray-100 text-gray-800"}[t]||"bg-gray-100 text-gray-800"}function T(){y.get("/training/sessions/create")}function C(i){y.get(`/training/sessions/${i.id}/edit`)}function j(i){y.get(route("training.sessions"),{...d.value,page:i},{preserveState:!0,preserveScroll:!0})}return(i,t)=>(n(),v(z,{title:"Trainingseinheiten"},{header:g(()=>[e("div",L,[t[5]||(t[5]=e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"}," Trainingseinheiten ",-1)),e("div",M,[w(h,{href:i.route("training.drills"),as:"Link"},{default:g(()=>t[3]||(t[3]=[l(" Übungen verwalten ",-1)])),_:1,__:[3]},8,["href"]),r.can?.create?(n(),v(A,{key:0,onClick:T},{default:g(()=>t[4]||(t[4]=[l(" Neue Trainingseinheit ",-1)])),_:1,__:[4]})):u("",!0)])])]),default:g(()=>[e("div",$,[e("div",N,[e("div",E,[e("div",U,[e("div",F,[e("div",null,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Team",-1)),p(e("select",{"onUpdate:modelValue":t[0]||(t[0]=s=>d.value.team=s),class:"w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},[t[6]||(t[6]=e("option",{value:""},"Alle Teams",-1)),(n(!0),o(m,null,f(r.teams,s=>(n(),o("option",{key:s.id,value:s.id},a(s.name),9,G))),128))],512),[[x,d.value.team]])]),e("div",null,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Zeitraum",-1)),p(e("select",{"onUpdate:modelValue":t[1]||(t[1]=s=>d.value.period=s),class:"w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},t[8]||(t[8]=[e("option",{value:"all"},"Alle",-1),e("option",{value:"upcoming"},"Kommende",-1),e("option",{value:"past"},"Vergangene",-1),e("option",{value:"today"},"Heute",-1),e("option",{value:"week"},"Diese Woche",-1),e("option",{value:"month"},"Dieser Monat",-1)]),512),[[x,d.value.period]])]),e("div",null,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Trainer",-1)),p(e("select",{"onUpdate:modelValue":t[2]||(t[2]=s=>d.value.coach=s),class:"w-full border-gray-300 rounded-md shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},[t[10]||(t[10]=e("option",{value:""},"Alle Trainer",-1)),(n(!0),o(m,null,f(r.coaches,s=>(n(),o("option",{key:s.id,value:s.id},a(s.name),9,H))),128))],512),[[x,d.value.coach]])])])])]),e("div",K,[e("div",O,[r.sessions.data.length===0?(n(),o("div",P,t[12]||(t[12]=[e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1),e("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"Keine Trainingseinheiten",-1),e("p",{class:"mt-1 text-sm text-gray-500"}," Es wurden keine Trainingseinheiten gefunden. ",-1)]))):(n(),o("div",W,[(n(!0),o(m,null,f(r.sessions.data,s=>(n(),o("div",{key:s.id,class:"border rounded-lg p-4 hover:bg-gray-50 transition-colors"},[e("div",Z,[e("div",q,[e("div",I,[e("h3",J,a(s.team.name),1),e("span",{class:b([D(s),"px-2 py-1 text-xs rounded-full font-medium"])},a(k(s)),3)]),e("div",Q,[e("div",R,[t[13]||(t[13]=e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),l(" "+a(S(s.scheduled_at)),1)]),e("div",X,[t[14]||(t[14]=e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)),l(" "+a(_(s.scheduled_at))+" - "+a(_(s.end_time)),1)]),e("div",Y,[t[15]||(t[15]=e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),l(" "+a(s.location||"Sporthalle"),1)])]),s.coach?(n(),o("div",ee,[t[16]||(t[16]=e("span",{class:"font-medium"},"Trainer:",-1)),l(" "+a(s.coach.name),1)])):u("",!0),s.focus_areas&&s.focus_areas.length?(n(),o("div",te,[(n(!0),o(m,null,f(s.focus_areas,c=>(n(),o("span",{key:c,class:"px-2 py-1 bg-indigo-100 text-indigo-700 text-xs rounded-full"},a(c),1))),128))])):u("",!0),s.notes?(n(),o("div",se,a(s.notes),1)):u("",!0)]),e("div",ne,[w(h,{href:i.route("training.sessions.show",s.id),as:"Link",size:"sm"},{default:g(()=>t[17]||(t[17]=[l(" Details ",-1)])),_:2,__:[17]},1032,["href"]),r.can?.update?(n(),v(h,{key:0,onClick:c=>C(s),size:"sm"},{default:g(()=>t[18]||(t[18]=[l(" Bearbeiten ",-1)])),_:2,__:[18]},1032,["onClick"])):u("",!0)])]),s.attendance_count!==void 0?(n(),o("div",oe,[e("div",ie,[e("span",ae," Anwesenheit: "+a(s.attendance_count)+" / "+a(s.expected_players)+" Spieler ",1),e("div",re,[e("div",{style:V(`width: ${s.attendance_count/s.expected_players*100}%`),class:"bg-green-500 h-2 rounded-full"},null,4)])])])):u("",!0)]))),128))])),r.sessions.last_page>1?(n(),o("div",le,[e("nav",de,[(n(!0),o(m,null,f(r.sessions.last_page,s=>(n(),o("button",{key:s,onClick:c=>j(s),class:b(["px-3 py-1 rounded",s===r.sessions.current_page?"bg-indigo-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"])},a(s),11,ue))),128))])])):u("",!0)])])])])]),_:1}))}};export{pe as default};
