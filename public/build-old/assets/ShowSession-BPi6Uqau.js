import{q as c,c as b,o as a,w as u,a as t,d,e as r,n as v,t as i,F as x,h as g,b as q,g as _,j as m}from"./app-CoGxkfVc.js";import{_ as z}from"./AppLayout-Drc7lzl4.js";import{_ as w}from"./SecondaryButton-Bp3bKgLC.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"flex justify-between items-center"},V={class:"font-semibold text-xl text-gray-800 leading-tight"},G={class:"flex gap-2"},O={class:"py-12"},F={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},Z={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg mb-6"},I={class:"p-6"},K={class:"flex justify-between items-start mb-4"},R={key:0,class:"text-red-600 text-sm"},H={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},J={class:"space-y-2"},P={class:"flex justify-between"},Q={class:"text-sm font-medium"},U={class:"flex justify-between"},W={class:"text-sm font-medium"},X={class:"flex justify-between"},Y={class:"text-sm font-medium"},tt={class:"flex justify-between"},et={class:"text-sm font-medium"},st={class:"flex justify-between"},nt={class:"text-sm font-medium"},it={key:0,class:"flex flex-wrap gap-2"},ot={key:1,class:"text-sm text-gray-500"},at={key:2,class:"mt-4"},dt={class:"text-sm text-gray-600"},lt={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg mb-6"},rt={class:"p-6"},ct={class:"flex justify-between items-center mb-4"},ut={key:0,class:"space-y-3"},mt={class:"flex justify-between items-start"},xt={class:"flex-1"},gt={class:"flex items-center gap-3 mb-2"},ft={class:"text-2xl font-bold text-gray-300"},ht={class:"font-medium text-gray-900"},yt={class:"text-sm text-gray-600"},bt={class:"text-sm text-gray-600 ml-10"},vt={key:0,class:"ml-10 mt-2"},_t={class:"text-xs text-gray-600"},wt={class:"flex items-center gap-2 ml-4"},pt={class:"text-sm text-gray-500"},kt=["onClick"],jt={key:1,class:"text-center py-8"},Dt={key:2,class:"mt-4 pt-4 border-t"},At={class:"flex justify-between items-center"},Ct={class:"text-sm font-bold text-gray-900"},St={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},Tt={class:"p-6"},Bt={class:"flex justify-between items-center mb-4"},Lt={class:"mb-4 p-4 bg-gray-50 rounded-lg"},$t={class:"flex items-center justify-between"},Mt={class:"text-2xl font-bold text-green-600"},Nt={class:"text-2xl font-bold text-red-600"},qt={class:"text-2xl font-bold text-yellow-600"},zt={class:"text-2xl font-bold text-indigo-600"},Et={key:0,class:"space-y-2"},Vt={class:"flex items-center gap-3"},Gt={class:"font-medium text-sm"},Ot={class:"text-xs text-gray-500"},Ft={class:"flex items-center gap-2"},Zt={class:"text-sm text-gray-600"},It={key:0,class:"text-xs text-gray-500"},Kt={key:1,class:"text-center py-8"},Ut={__name:"ShowSession",props:{session:Object,can:Object},setup(s){const l=s,p=c(()=>l.session.drills?l.session.drills.reduce((n,e)=>n+e.duration,0):0),f=c(()=>l.session.attendance?l.session.attendance.filter(n=>n.status==="present").length:0),k=c(()=>l.session.attendance?l.session.attendance.filter(n=>n.status==="absent").length:0),j=c(()=>l.session.attendance?l.session.attendance.filter(n=>n.status==="excused").length:0),D=c(()=>{if(!l.session.attendance||l.session.attendance.length===0)return 0;const n=l.session.attendance.length,e=f.value;return Math.round(e/n*100)});function A(n){return new Date(n).toLocaleDateString("de-DE",{weekday:"long",day:"2-digit",month:"2-digit",year:"numeric"})}function h(n){return new Date(n).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})}function y(){const n=new Date,e=new Date(l.session.scheduled_at),o=new Date(l.session.end_time);return l.session.cancelled?"Abgesagt":n<e?"Geplant":n>=e&&n<=o?"Läuft":"Beendet"}function C(){const n=y();return{Abgesagt:"bg-red-100 text-red-800",Geplant:"bg-blue-100 text-blue-800",Läuft:"bg-green-100 text-green-800",Beendet:"bg-gray-100 text-gray-800"}[n]||"bg-gray-100 text-gray-800"}function S(n){return{present:"Anwesend",absent:"Abwesend",excused:"Entschuldigt",late:"Verspätet"}[n]||n}function T(n){return{present:"bg-green-500",absent:"bg-red-500",excused:"bg-yellow-500",late:"bg-orange-500"}[n]||"bg-gray-500"}function B(){m.get(`/training/sessions/${l.session.id}/edit`)}function L(){m.get(`/training/sessions/${l.session.id}/drills/add`)}function $(n){confirm("Möchten Sie diese Übung wirklich entfernen?")&&m.delete(`/training/sessions/${l.session.id}/drills/${n.id}`)}function M(){m.get(`/training/sessions/${l.session.id}/attendance`)}return(n,e)=>(a(),b(z,{title:"Trainingseinheit Details"},{header:u(()=>[t("div",E,[t("h2",V," Trainingseinheit: "+i(s.session.team.name),1),t("div",G,[s.can?.update?(a(),b(w,{key:0,onClick:B},{default:u(()=>e[0]||(e[0]=[_(" Bearbeiten ",-1)])),_:1,__:[0]})):r("",!0),q(w,{href:n.route("training.sessions"),as:"Link"},{default:u(()=>e[1]||(e[1]=[_(" Zurück zur Übersicht ",-1)])),_:1,__:[1]},8,["href"])])])]),default:u(()=>[t("div",O,[t("div",F,[t("div",Z,[t("div",I,[t("div",K,[t("span",{class:v([C(),"px-3 py-1 rounded-full text-sm font-medium"])},i(y()),3),s.session.cancelled?(a(),d("div",R," Abgesagt: "+i(s.session.cancellation_reason),1)):r("",!0)]),t("div",H,[t("div",null,[e[7]||(e[7]=t("h3",{class:"text-lg font-semibold mb-3"},"Allgemeine Informationen",-1)),t("dl",J,[t("div",P,[e[2]||(e[2]=t("dt",{class:"text-sm text-gray-500"},"Team:",-1)),t("dd",Q,i(s.session.team.name),1)]),t("div",U,[e[3]||(e[3]=t("dt",{class:"text-sm text-gray-500"},"Datum:",-1)),t("dd",W,i(A(s.session.scheduled_at)),1)]),t("div",X,[e[4]||(e[4]=t("dt",{class:"text-sm text-gray-500"},"Zeit:",-1)),t("dd",Y,i(h(s.session.scheduled_at))+" - "+i(h(s.session.end_time)),1)]),t("div",tt,[e[5]||(e[5]=t("dt",{class:"text-sm text-gray-500"},"Ort:",-1)),t("dd",et,i(s.session.location||"Sporthalle"),1)]),t("div",st,[e[6]||(e[6]=t("dt",{class:"text-sm text-gray-500"},"Trainer:",-1)),t("dd",nt,i(s.session.coach?.name||"Nicht zugewiesen"),1)])])]),t("div",null,[e[9]||(e[9]=t("h3",{class:"text-lg font-semibold mb-3"},"Trainingsschwerpunkte",-1)),s.session.focus_areas&&s.session.focus_areas.length?(a(),d("div",it,[(a(!0),d(x,null,g(s.session.focus_areas,o=>(a(),d("span",{key:o,class:"px-3 py-1 bg-indigo-100 text-indigo-700 text-sm rounded-full"},i(o),1))),128))])):(a(),d("p",ot,"Keine Schwerpunkte definiert")),s.session.notes?(a(),d("div",at,[e[8]||(e[8]=t("h4",{class:"text-sm font-medium text-gray-700 mb-1"},"Notizen:",-1)),t("p",dt,i(s.session.notes),1)])):r("",!0)])])])]),t("div",lt,[t("div",rt,[t("div",ct,[e[10]||(e[10]=t("h3",{class:"text-lg font-semibold"},"Trainingsplan",-1)),s.can?.update?(a(),d("button",{key:0,onClick:L,class:"text-indigo-600 hover:text-indigo-900 text-sm font-medium"}," + Übung hinzufügen ")):r("",!0)]),s.session.drills&&s.session.drills.length?(a(),d("div",ut,[(a(!0),d(x,null,g(s.session.drills,(o,N)=>(a(),d("div",{key:o.id,class:"border rounded-lg p-4 hover:bg-gray-50"},[t("div",mt,[t("div",xt,[t("div",gt,[t("span",ft,i(N+1),1),t("div",null,[t("h4",ht,i(o.name),1),t("p",yt,i(o.duration)+" Min.",1)])]),t("p",bt,i(o.description),1),o.equipment&&o.equipment.length?(a(),d("div",vt,[e[11]||(e[11]=t("span",{class:"text-xs text-gray-500"},"Material: ",-1)),t("span",_t,i(o.equipment.join(", ")),1)])):r("",!0)]),t("div",wt,[t("span",pt,i(o.category),1),s.can?.update?(a(),d("button",{key:0,onClick:Rt=>$(o),class:"text-red-600 hover:text-red-900"},e[12]||(e[12]=[t("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,kt)):r("",!0)])])]))),128))])):(a(),d("div",jt,e[13]||(e[13]=[t("p",{class:"text-sm text-gray-500"},"Noch keine Übungen geplant",-1)]))),s.session.drills&&s.session.drills.length?(a(),d("div",Dt,[t("div",At,[e[14]||(e[14]=t("span",{class:"text-sm font-medium text-gray-700"},"Gesamtdauer:",-1)),t("span",Ct,i(p.value)+" Minuten",1)])])):r("",!0)])]),t("div",St,[t("div",Tt,[t("div",Bt,[e[15]||(e[15]=t("h3",{class:"text-lg font-semibold"},"Anwesenheit",-1)),s.can?.update&&!s.session.cancelled?(a(),d("button",{key:0,onClick:M,class:"text-indigo-600 hover:text-indigo-900 text-sm font-medium"}," Anwesenheit erfassen ")):r("",!0)]),t("div",Lt,[t("div",$t,[t("div",null,[e[16]||(e[16]=t("p",{class:"text-sm text-gray-600"},"Anwesend",-1)),t("p",Mt,i(f.value),1)]),t("div",null,[e[17]||(e[17]=t("p",{class:"text-sm text-gray-600"},"Abwesend",-1)),t("p",Nt,i(k.value),1)]),t("div",null,[e[18]||(e[18]=t("p",{class:"text-sm text-gray-600"},"Entschuldigt",-1)),t("p",qt,i(j.value),1)]),t("div",null,[e[19]||(e[19]=t("p",{class:"text-sm text-gray-600"},"Anwesenheitsquote",-1)),t("p",zt,i(D.value)+"%",1)])])]),s.session.attendance&&s.session.attendance.length?(a(),d("div",Et,[(a(!0),d(x,null,g(s.session.attendance,o=>(a(),d("div",{key:o.player_id,class:"flex items-center justify-between p-3 border rounded-lg"},[t("div",Vt,[t("span",{class:v([T(o.status),"w-3 h-3 rounded-full"])},null,2),t("div",null,[t("p",Gt,i(o.player.name),1),t("p",Ot,"#"+i(o.player.jersey_number),1)])]),t("div",Ft,[t("span",Zt,i(S(o.status)),1),o.note?(a(),d("span",It," ("+i(o.note)+") ",1)):r("",!0)])]))),128))])):(a(),d("div",Kt,e[20]||(e[20]=[t("p",{class:"text-sm text-gray-500"},"Anwesenheit noch nicht erfasst",-1)])))])])])])]),_:1}))}};export{Ut as default};
